# Observer Pattern
观察者模式

观察者模式也叫发布订阅模式，定义如下：定义对象间一种一对多的依赖关系，使得当每一个对象改变状态，
则所有依赖于他的对象都会得到通知并被自动更新。

四个角色：  
1、Subject被观察者：定义被观察者必须实现的职责，它必须能够动态地增加、取消观察者；  
2、Observer观察者：观察者收到消息后，进行update；  
3、ConcreteSubject具体的被观察者：定义被观察者自己的业务逻辑，同时定义对哪些事件进行通知；  
4、ConcreteObserver具体的观察者：每个观察在接受到消息后的处理反应是不同，各个观察者有自己的处理逻辑。

优点：  
1、观察者与被观察者之间是抽象耦合，容易扩展；  
2、建立一套触发机制。

缺点：开发效率和运行效率。一般考虑采用异步的方式。

使用场景：  
1、关联行为场景。需要注意，关联行为是可拆分的，而不是“组合”关系；  
2、事件多级触发场景；  
3、跨系统的消息交换场景，如消息队列的处理机制。

注意事项：  
1、广播链的问题：观察者模式广播链在传播过程中消息是随时可以更改的，太多层的转发不易控制；  
2、异步处理问题。

Java jdk API 中已经有Observable， Observer 观察者模式。
